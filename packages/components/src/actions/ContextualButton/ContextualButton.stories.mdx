import { Meta, Story, Canvas, ArgsTable, Preview } from '@storybook/addon-docs';
import { withDesign } from 'storybook-addon-designs';
import { Container, Row, Col } from '../../structure/Grid';
import ContextualButton from './ContextualButton.js';
import { IconList } from '../../utils/Icon';

<Meta
  title="Components/Actions/ContextualButton"
  component={ContextualButton}
  decorators={[withDesign]}
/>

export const testClick = () => {
  alert('You clicked an option');
};

export const colStyles = {
  height: '500px',
  display: 'flex',
  justifyContent: 'center',
  alignItems: 'center',
};

export const argTypes = {
  icon: {
    table: {
      category: 'Button',
    },
    options: IconList,
  },
  variant: {
    table: {
      category: 'Button',
    },
  },
  theme: {
    table: {
      category: 'Button',
    },
  },
  size: {
    table: {
      category: 'Button',
    },
  },
  title: {
    table: {
      category: 'Button',
    },
  },
  position: {
    table: {
      category: 'Dropdown',
    },
  },
  align: {
    table: {
      category: 'Dropdown',
    },
  },
  scrollbar: {
    table: {
      category: 'Dropdown',
    },
  },
  showLabel: {
    table: {
      category: 'Dropdown',
    },
  },
  children: {
    table: {
      category: 'Others',
    },
  },
};

export const Template = (args) => (
  <Container>
    <Row>
      <Col style={colStyles}>
        <ContextualButton {...args}>
          <ContextualButton.Item icon="edit" onClick={testClick}>
            Edit
          </ContextualButton.Item>
          <ContextualButton.Item icon="delete" onClick={testClick}>
            Delete
          </ContextualButton.Item>
          <ContextualButton.Item icon="attachment" onClick={testClick}>
            Attachment
          </ContextualButton.Item>
          <ContextualButton.Item icon="add-guest" onClick={testClick}>
            Add User
          </ContextualButton.Item>
          <ContextualButton.Item onClick={testClick}>
            No Icon
          </ContextualButton.Item>
        </ContextualButton>
      </Col>
    </Row>
  </Container>
);

# Contextual Menu

<Canvas>
  <Story
    name="ContextualButton"
    args={{
      icon: 'context',
      size: 'm',
      variant: 'outline',
      theme: 'light',
      title: 'Contextual Button',
      position: 'bottom',
      align: 'start',
      scrollbar: false,
      showLabel: true,
    }}
    argTypes={argTypes}
    parameters={{
      design: {
        name: 'Figma Design',
        type: 'figma',
        url: 'https://www.figma.com/file/TENnOP4K38G6r3vDL3emCP/AB---Style-Guide?node-id=8402%3A163593',
      },
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

## Properties

### ContextualButton

<ArgsTable of={ContextualButton} />

### ContextualButton Item

<ArgsTable of={ContextualButton.Item} />
